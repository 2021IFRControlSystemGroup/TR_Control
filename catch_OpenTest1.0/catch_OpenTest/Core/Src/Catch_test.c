#include "robo_base.h"
#include "can.h"
#include "Catch_test.h"
#include "main.h"

//extern ROBO_BASE Robo_Base; 
//extern Speed_System* P_Speed; 
extern ROBO_CATCH robo_catch;
extern CAN_HandleTypeDef hcan1;
int speed;
int pos;

void catch_open(void)
{

	
   switch(robo_catch.Open_flag)
	 {
	   case 1:robo_catch.SPEED_systemOpen.Tar_Speed=-speed;break;        
	   case 2:robo_catch.SPEED_systemOpen.Tar_Speed=speed;break;	
     case 0:robo_catch.SPEED_systemOpen.Tar_Speed=0;break;		
     default:break;		 
	 }
      
}

//速度环标定
void catch_line_speed(void)
{
	 switch(robo_catch.Line_flag)  //1.3移动到中间停止，1.2.3移动到一端再回到中间。
	 {
	   case 1:robo_catch.SPEED_systemLine.Tar_Speed=100;break;        
	   case 0:robo_catch.SPEED_systemLine.Tar_Speed=0;break;	
     case 2:robo_catch.SPEED_systemLine.Tar_Speed=-100;break;		 
		 default:break;
	 }
     
}


//五个位置
void catch_line_pos(void)
{
	 switch(robo_catch.Line_flag)  //移动一个角度
	 {
	   case 1:robo_catch.Pos_systemLine.Tar_Pos=pos;break;        
	   case 2:robo_catch.Pos_systemLine.Tar_Pos=-pos;break;	
     case 0:robo_catch.Pos_systemLine.Tar_Pos=0;break;		 
		 default:break;
	 }
     
}





//void catch_line_Pos(void)
//{
//  int start;
//	switch(start)
//	{
//	  case 0:robo_catch.SPEED_systemLine.Tar_Speed=500;break;
//		case 1:
//	}

//}
	



/*
变速：按键中断：按下速度为300，松开为50
*/

/*
flag
*/
//void flag_control(int flag)
//{
//   if
//}

/*
记录次数
*/


